var e=function(e){return"function"===typeof e},r=function(e){return"self.onmessage = function (event) {\n  var args = event.data || []\n  self.postMessage(("+e+").apply(null, args))\n}"};export default(function(){function o(o){if("Worker"in window)if(URL&&URL.createObjectURL){if(e(o)){var t=function(e){var r=new Blob([e],{type:"application/javascript"}),o=URL.createObjectURL(r);return{worker:new Worker(o),objURL:o}}(r(o)),n=t.worker,s=t.objURL;this.worker=n,this.objURL=s}}else console.error("This browser does not have createObjectURL method.");else console.error("This browser does not support Worker.")}return o.prototype.run=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=this.worker;return new Promise(function(r,t){o.onmessage=function(e){r(e.data)},o.onerror=function(e){t(e.error)},o.postMessage(e)})},o.prototype.distory=function(){this.worker.terminate(),URL.revokeObjectURL(this.objURL),this.objURL=null,this.worker=null},o}());
