var SimpleWorker=function(){"use strict";return function(){function e(e){if("Worker"in window)if(URL&&URL.createObjectURL){if("function"==typeof e){var r,o,t="self.onmessage = function (event) {\n  var args = event.data || []\n  self.postMessage(("+e+").apply(null, args))\n}",n=(r=new Blob([t],{type:"application/javascript"}),o=URL.createObjectURL(r),{worker:new Worker(o),objURL:o}),s=n.worker,i=n.objURL;this.worker=s,this.objURL=i}}else console.error("This browser does not have createObjectURL method.");else console.error("This browser does not support Worker.")}return e.prototype.run=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=this.worker;return new Promise(function(r,o){t.onmessage=function(e){r(e.data)},t.onerror=function(e){o(e.error)},t.postMessage(e)})},e.prototype.distory=function(){this.worker.terminate(),URL.revokeObjectURL(this.objURL),this.objURL=null,this.worker=null},e}()}();
